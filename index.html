
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hockey Scout Sheet</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        const Upload = ({ size = 16 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
            </svg>
        );
        
        const Settings = ({ size = 16 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6m5.2-13.8l-1 1.7m-4.4 7.6l-1 1.7M23 12h-6m-6 0H5m13.8 5.2l-1.7-1m-7.6-4.4l-1.7-1"/>
            </svg>
        );
        
        const Printer = ({ size = 16 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect x="6" y="14" width="12" height="8"/>
            </svg>
        );

        const X = ({ size = 20 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        );

        const HockeyLinesChart = () => {
          const [myTeamSetup, setMyTeamSetup] = useState({
            teamName: 'Delano Tigers',
            logo: null,
            colors: { primary: '#fb923c', secondary: '#1f2937' },
            arena: 'Delano Area Sports Arena, Delano',
            careerStats: {},
            pronunciations: {}
          });

          const [myTeamData, setMyTeamData] = useState({
            teamName: '',
            nickname: '',
            record: { w: 0, l: 0, t: 0 },
            section: '2A',
            conference: 'WCC',
            stats: { ppPct: 0, pkPct: 0, gpg: 0, gapg: 0 },
            roster: [],
            nextGame: { gameNum: '', opponent: '', date: '', location: '', oppRecord: '', oppSection: '', oppConference: '' },
            headCoach: { name: '', careerRecord: { w: 0, l: 0, t: 0 }, seasonRecord: { w: 0, l: 0, t: 0 } },
            studentManager: '',
            injuries: []
          });

          const [opponentData, setOpponentData] = useState({
            teamName: '',
            nickname: '',
            record: { w: 0, l: 0, t: 0 },
            section: '',
            conference: '',
            stats: { ppPct: 0, pkPct: 0, gpg: 0, gapg: 0 },
            roster: [],
            headCoach: { name: '', careerRecord: { w: 0, l: 0, t: 0 }, seasonRecord: { w: 0, l: 0, t: 0 } }
          });

          const [lines, setLines] = useState({
            line1: { lw: null, c: null, rw: null, color: 'GREEN' },
            line2: { lw: null, c: null, rw: null, color: 'RED' },
            line3: { lw: null, c: null, rw: null, color: 'BLUE' },
            line4: { lw: null, c: null, rw: null, color: 'YELLOW' },
            d1: { ld: null, rd: null },
            d2: { ld: null, rd: null },
            d3: { ld: null, rd: null },
            goalies: { starter: null, backup: null }
          });

          const [coachNotes, setCoachNotes] = useState({
            pk: '',
            pp: '',
            scoutNotes: { powerPlay: '', penaltyKill: '', keyPlayers: '' },
            showScoutNotes: true
          });

          const [showSetup, setShowSetup] = useState(false);
          const [showImport, setShowImport] = useState(false);
          const [showColorPicker, setShowColorPicker] = useState(false);
          const [importStep, setImportStep] = useState('myTeamHome');
          const [importText, setImportText] = useState('');
          const [draggedPlayer, setDraggedPlayer] = useState(null);
          const [dragSource, setDragSource] = useState(null);
          const [opponentLogo, setOpponentLogo] = useState(null);
          const [opponentColors, setOpponentColors] = useState({ primary: '#dc2626', secondary: '#991b1b' });
          const [careerStatsImport, setCareerStatsImport] = useState({
            lastSeason: '',
            twoSeasonsAgo: '',
            threeSeasonsAgo: ''
          });

          const colorOptions = ['GREEN', 'RED', 'BLUE', 'YELLOW'];
          const colorClasses = {
            'GREEN': 'bg-green-100 border-green-600',
            'RED': 'bg-red-100 border-red-600',
            'BLUE': 'bg-blue-100 border-blue-600',
            'YELLOW': 'bg-yellow-100 border-yellow-600'
          };

          const importSteps = [
  { key: 'myTeamHome', label: 'My Team - Legacy Home', team: 'mine' },
  { key: 'myTeamRoster', label: 'My Team - Legacy Roster', team: 'mine' },
  { key: 'myTeamSchedule', label: 'My Team - Legacy Game Schedule', team: 'mine' },
  { key: 'myTeamPlayerStats', label: 'My Team - Legacy Player Stats', team: 'mine' },
  { key: 'myTeamTeamStats', label: 'My Team - Legacy Team Stats', team: 'mine' },
  { key: 'oppLogo', label: 'Opponent - Logo', team: 'opponent', isLogo: true },
  { key: 'oppHome', label: 'Opponent - Legacy Home', team: 'opponent' },
  { key: 'oppRoster', label: 'Opponent - Legacy Roster', team: 'opponent' },
  { key: 'oppSchedule', label: 'Opponent - Legacy Game Schedule', team: 'opponent' },
  { key: 'oppPlayerStats', label: 'Opponent - Legacy Player Stats', team: 'opponent' },
  { key: 'oppTeamStats', label: 'Opponent - Legacy Team Stats', team: 'opponent' }
];

          useEffect(() => {
            const saved = localStorage.getItem('myTeamSetup');
            if (saved) {
              setMyTeamSetup(JSON.parse(saved));
            }
          }, []);

          useEffect(() => {
            localStorage.setItem('myTeamSetup', JSON.stringify(myTeamSetup));
          }, [myTeamSetup]);

          const parseHomePage = (text) => {
            const lines = text.split('\n').map(l => l.trim()).filter(l => l);
            let teamName = '';
            let nickname = '';
            let record = { w: 0, l: 0, t: 0 };
            let section = '';
            let conference = '';
            let headCoach = { name: '', careerRecord: { w: 0, l: 0, t: 0 }, seasonRecord: { w: 0, l: 0, t: 0 } };
            
            // Find team name - look for line that appears between "Subscribe" and "History"
            const subscribeIdx = lines.findIndex(l => l === 'Subscribe');
            const historyIdx = lines.findIndex(l => l === 'History');
            if (subscribeIdx >= 0 && historyIdx > subscribeIdx && historyIdx - subscribeIdx <= 3) {
              teamName = lines[subscribeIdx + 1];
            }
            
            // Find nickname - look for "Nickname:" line
            const nicknameIdx = lines.findIndex(l => l.startsWith('Nickname:'));
            if (nicknameIdx >= 0) {
              nickname = lines[nicknameIdx].split(':')[1]?.trim() || '';
            }
            
            // Find record - look for pattern like "12-2-1"
            const recordPattern = /(\d+)-(\d+)-(\d+)/;
            for (let line of lines) {
              const match = line.match(recordPattern);
              if (match) {
                record = { w: parseInt(match[1]), l: parseInt(match[2]), t: parseInt(match[3]) };
                break;
              }
            }
            
            // Find section - look for "Section:" line
            const sectionIdx = lines.findIndex(l => l.startsWith('Section:'));
            if (sectionIdx >= 0) {
              section = lines[sectionIdx].split(':')[1]?.trim() || '';
            }
            
            // Find conference - look for "Conference:" line
            const conferenceIdx = lines.findIndex(l => l.startsWith('Conference:'));
            if (conferenceIdx >= 0) {
              conference = lines[conferenceIdx].split(':')[1]?.trim() || '';
            }
            
            // Find head coach info
            const coachIdx = lines.findIndex(l => l.startsWith('Head Coach:'));
            if (coachIdx >= 0) {
              headCoach.name = lines[coachIdx].split(':')[1]?.trim() || '';
              
              // Look for career record
              const careerRecordIdx = lines.findIndex(l => l.startsWith('Career Record:'));
              if (careerRecordIdx >= 0) {
                const careerMatch = lines[careerRecordIdx].match(/(\d+)-(\d+)-(\d+)/);
                if (careerMatch) {
                  headCoach.careerRecord = { 
                    w: parseInt(careerMatch[1]), 
                    l: parseInt(careerMatch[2]), 
                    t: parseInt(careerMatch[3]) 
                  };
                }
              }
              
              // Season record usually same as team record
              headCoach.seasonRecord = { ...record };
            }
            
            return { teamName, nickname, record, section, conference, headCoach };
          };

          const parseRoster = (text) => {
            const lines = text.split('\n').map(l => l.trim()).filter(l => l);
            const roster = [];
            
            // Find where roster starts (after "Roster" heading)
            const rosterIdx = lines.findIndex(l => l === 'Roster');
            if (rosterIdx < 0) return roster;
            
            // Skip header rows and process player lines
            for (let i = rosterIdx + 3; i < lines.length; i++) {
              const line = lines[i];
              
              // Stop at common footer elements
              if (line.includes('Subscribe') || line.includes('Print')) break;
              
              // Try to parse player line
              // Format: # Name Pos Gr Ht Wt
              const parts = line.split(/\s+/);
              if (parts.length >= 6 && /^\d+$/.test(parts[0])) {
                const number = parts[0];
                const position = parts[parts.length - 4]; // Pos is 4th from end
                const grade = parts[parts.length - 3]; // Gr is 3rd from end
                
                // Name is everything between number and position
                const nameParts = parts.slice(1, parts.length - 4);
                const firstName = nameParts[0] || '';
                const lastName = nameParts.slice(1).join(' ') || '';
                
                roster.push({
                  id: `player-${number}-${Date.now()}-${Math.random()}`,
                  number,
                  firstName,
                  lastName,
                  position,
                  grade,
                  stats: { gp: 0, g: 0, a: 0, pts: 0, pim: 0, ppg: 0, shg: 0, plus: 0 },
                  goalieStats: position === 'G' ? { min: '0:00', w: 0, l: 0, t: 0, sog: 0, sv: 0, ga: 0, gaa: 0, svp: '.000', so: 0 } : null
                });
              }
            }
            
            return roster;
          };

          const parseSchedule = (text) => {
            const lines = text.split('\n').map(l => l.trim()).filter(l => l);
            let nextGame = { gameNum: '', opponent: '', date: '', location: '', oppRecord: '', oppSection: '', oppConference: '' };
            
            // Find "Game Schedule" section
            const scheduleIdx = lines.findIndex(l => l.includes('Game Schedule'));
            if (scheduleIdx < 0) return nextGame;
            
            // Look for the first game with "vs" or "@" that hasn't been played yet
            for (let i = scheduleIdx; i < lines.length; i++) {
              const line = lines[i];
              
              // Look for game number pattern (e.g., "1", "2", etc. at start of line)
              if (/^\d+$/.test(line)) {
                const gameNum = line;
                // Next lines should have opponent, date, location
                if (i + 3 < lines.length) {
                  const opponent = lines[i + 1];
                  const date = lines[i + 2];
                  const location = lines[i + 3];
                  
                  // Check if this game hasn't been played (look for score pattern)
                  const hasScore = lines.slice(i, i + 5).some(l => /\d+-\d+/.test(l));
                  if (!hasScore && (opponent.includes('vs') || opponent.includes('@'))) {
                    nextGame = {
                      gameNum,
                      opponent: opponent.replace('vs ', '').replace('@ ', ''),
                      date,
                      location,
                      oppRecord: '',
                      oppSection: '',
                      oppConference: ''
                    };
                    break;
                  }
                }
              }
            }
            
            return nextGame;
          };

          const parsePlayerStats = (text, currentRoster) => {
            const lines = text.split('\n').map(l => l.trim()).filter(l => l);
            const updatedRoster = [...currentRoster];
            
            // Find stats table section
            const statsIdx = lines.findIndex(l => l.includes('Player Stats'));
            if (statsIdx < 0) return updatedRoster;
            
            // Process each line looking for player stats
            for (let i = statsIdx; i < lines.length; i++) {
              const line = lines[i];
              const parts = line.split(/\s+/);
              
              // Look for lines starting with a number (jersey number)
              if (parts.length > 8 && /^\d+$/.test(parts[0])) {
                const number = parts[0];
                const player = updatedRoster.find(p => p.number === number);
                
                if (player) {
                  // Parse stats based on position
                  if (player.position === 'G') {
                    // Goalie stats format: # Name Gr MIN W L T SOG SV GA GAA SV% SO
                    const statStart = parts.length - 10;
                    player.goalieStats = {
                      min: parts[statStart] || '0:00',
                      w: parseInt(parts[statStart + 1]) || 0,
                      l: parseInt(parts[statStart + 2]) || 0,
                      t: parseInt(parts[statStart + 3]) || 0,
                      sog: parseInt(parts[statStart + 4]) || 0,
                      sv: parseInt(parts[statStart + 5]) || 0,
                      ga: parseInt(parts[statStart + 6]) || 0,
                      gaa: parseFloat(parts[statStart + 7]) || 0,
                      svp: parts[statStart + 8] || '.000',
                      so: parseInt(parts[statStart + 9]) || 0
                    };
                  } else {
                    // Skater stats format: # Name Pos Gr GP G A PTS PIM PPG SHG +/-
                    const statStart = parts.length - 8;
                    player.stats = {
                      gp: parseInt(parts[statStart]) || 0,
                      g: parseInt(parts[statStart + 1]) || 0,
                      a: parseInt(parts[statStart + 2]) || 0,
                      pts: parseInt(parts[statStart + 3]) || 0,
                      pim: parseInt(parts[statStart + 4]) || 0,
                      ppg: parseInt(parts[statStart + 5]) || 0,
                      shg: parseInt(parts[statStart + 6]) || 0,
                      plus: parseInt(parts[statStart + 7]) || 0
                    };
                  }
                }
              }
            }
            
            return updatedRoster;
          };

          const parseTeamStats = (text) => {
            const lines = text.split('\n').map(l => l.trim()).filter(l => l);
            let stats = { ppPct: 0, pkPct: 0, gpg: 0, gapg: 0 };
            
            // Find team stats section
            for (let i = 0; i < lines.length; i++) {
              const line = lines[i];
              
              // Look for PP%
              if (line.includes('PP%') || line.includes('Power Play')) {
                const match = line.match(/(\d+\.?\d*)%/);
                if (match) stats.ppPct = parseFloat(match[1]);
              }
              
              // Look for PK%
              if (line.includes('PK%') || line.includes('Penalty Kill')) {
                const match = line.match(/(\d+\.?\d*)%/);
                if (match) stats.pkPct = parseFloat(match[1]);
              }
              
              // Look for Goals Per Game
              if (line.includes('Goals Per Game') || line.includes('GPG')) {
                const match = line.match(/(\d+\.?\d*)/);
                if (match) stats.gpg = parseFloat(match[1]);
              }
              
              // Look for Goals Against Per Game
              if (line.includes('Goals Against') || line.includes('GAPG')) {
                const match = line.match(/(\d+\.?\d*)/);
                if (match) stats.gapg = parseFloat(match[1]);
              }
            }
            
            return stats;
          };

          const handleImport = () => {
            const step = importSteps.find(s => s.key === importStep);
            
            if (step?.isLogo) {
              // Handle logo import
              if (step.team === 'mine') {
                setMyTeamSetup({...myTeamSetup, logo: importText});
              } else {
                setOpponentLogo(importText);
              }
              setImportText('');
              const nextStepIdx = importSteps.findIndex(s => s.key === importStep) + 1;
              if (nextStepIdx < importSteps.length) {
                setImportStep(importSteps[nextStepIdx].key);
              }
              return;
            }

            if (step?.team === 'mine') {
              if (importStep === 'myTeamHome') {
                const parsed = parseHomePage(importText);
                setMyTeamData({...myTeamData, ...parsed});
              } else if (importStep === 'myTeamRoster') {
                const roster = parseRoster(importText);
                setMyTeamData({...myTeamData, roster});
              } else if (importStep === 'myTeamSchedule') {
                const nextGame = parseSchedule(importText);
                setMyTeamData({...myTeamData, nextGame});
              } else if (importStep === 'myTeamPlayerStats') {
                const updatedRoster = parsePlayerStats(importText, myTeamData.roster);
                setMyTeamData({...myTeamData, roster: updatedRoster});
              } else if (importStep === 'myTeamTeamStats') {
                const stats = parseTeamStats(importText);
                setMyTeamData({...myTeamData, stats});
              }
            } else {
              if (importStep === 'oppHome') {
                const parsed = parseHomePage(importText);
                setOpponentData({...opponentData, ...parsed});
              } else if (importStep === 'oppRoster') {
                const roster = parseRoster(importText);
                setOpponentData({...opponentData, roster});
              } else if (importStep === 'oppSchedule') {
                // Opponent schedule not needed for current implementation
              } else if (importStep === 'oppPlayerStats') {
                const updatedRoster = parsePlayerStats(importText, opponentData.roster);
                setOpponentData({...opponentData, roster: updatedRoster});
              } else if (importStep === 'oppTeamStats') {
                const stats = parseTeamStats(importText);
                setOpponentData({...opponentData, stats});
              }
            }

            setImportText('');
            const nextStepIdx = importSteps.findIndex(s => s.key === importStep) + 1;
            if (nextStepIdx < importSteps.length) {
              setImportStep(importSteps[nextStepIdx].key);
            } else {
              setShowImport(false);
            }
          };

          const handleDragStart = (player, source) => {
            setDraggedPlayer(player);
            setDragSource(source);
          };

          const handleDrop = (position) => {
            if (!draggedPlayer) return;

            const newLines = {...lines};
            
            // Remove player from old position if dragging from lines
            if (dragSource?.startsWith('line')) {
              const [lineKey, posKey] = dragSource.split('-');
              newLines[lineKey][posKey] = null;
            }

            // Add player to new position
            const [lineKey, posKey] = position.split('-');
            newLines[lineKey][posKey] = draggedPlayer;

            setLines(newLines);
            setDraggedPlayer(null);
            setDragSource(null);
          };

          const handleLogoUpload = (e, team) => {
            const file = e.target.files[0];
            if (file) {
              const reader = new FileReader();
              reader.onloadend = () => {
                if (team === 'mine') {
                  setMyTeamSetup({...myTeamSetup, logo: reader.result});
                } else {
                  setOpponentLogo(reader.result);
                }
              };
              reader.readAsDataURL(file);
            }
          };

          const getAvailablePlayers = () => {
            const usedPlayerIds = new Set();
            Object.values(lines).forEach(line => {
              Object.values(line).forEach(player => {
                if (player) usedPlayerIds.add(player.id);
              });
            });
            return myTeamData.roster.filter(p => !usedPlayerIds.has(p.id));
          };

          return (
            <div className="min-h-screen bg-gray-900 text-white">
              {/* Setup Modal */}
              {showSetup && (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                  <div className="bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                    <div className="flex justify-between items-center mb-4">
                      <h2 className="text-2xl font-bold text-gray-900">Team Setup</h2>
                      <button onClick={() => setShowSetup(false)} className="text-gray-500 hover:text-gray-700">
                        <X size={24} />
                      </button>
                    </div>

                    <div className="space-y-4 text-gray-900">
                      <div>
                        <label className="block text-sm font-medium mb-1">Team Name</label>
                        <input
                          type="text"
                          value={myTeamSetup.teamName}
                          onChange={(e) => setMyTeamSetup({...myTeamSetup, teamName: e.target.value})}
                          className="w-full border rounded px-3 py-2"
                        />
                      </div>

                      <div>
                        <label className="block text-sm font-medium mb-1">Arena/Location</label>
                        <input
                          type="text"
                          value={myTeamSetup.arena}
                          onChange={(e) => setMyTeamSetup({...myTeamSetup, arena: e.target.value})}
                          className="w-full border rounded px-3 py-2"
                        />
                      </div>

                      <div>
                        <label className="block text-sm font-medium mb-1">Team Logo</label>
                        <input
                          type="file"
                          accept="image/*"
                          onChange={(e) => handleLogoUpload(e, 'mine')}
                          className="w-full border rounded px-3 py-2"
                        />
                        {myTeamSetup.logo && (
                          <img src={myTeamSetup.logo} alt="Team Logo" className="mt-2 h-16 object-contain" />
                        )}
                      </div>

                      <div>
                        <label className="block text-sm font-medium mb-1">Primary Color</label>
                        <input
                          type="color"
                          value={myTeamSetup.colors.primary}
                          onChange={(e) => setMyTeamSetup({...myTeamSetup, colors: {...myTeamSetup.colors, primary: e.target.value}})}
                          className="w-full h-10 border rounded"
                        />
                      </div>

                      <div>
                        <label className="block text-sm font-medium mb-1">Secondary Color</label>
                        <input
                          type="color"
                          value={myTeamSetup.colors.secondary}
                          onChange={(e) => setMyTeamSetup({...myTeamSetup, colors: {...myTeamSetup.colors, secondary: e.target.value}})}
                          className="w-full h-10 border rounded"
                        />
                      </div>
                    </div>

                    <div className="mt-6 flex justify-end">
                      <button
                        onClick={() => setShowSetup(false)}
                        className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
                      >
                        Save
                      </button>
                    </div>
                  </div>
                </div>
              )}

              {/* Import Modal */}
              {showImport && (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                  <div className="bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                    <div className="flex justify-between items-center mb-4">
                      <h2 className="text-2xl font-bold text-gray-900">Import Data</h2>
                      <button onClick={() => setShowImport(false)} className="text-gray-500 hover:text-gray-700">
                        <X size={24} />
                      </button>
                    </div>

                    <div className="mb-4">
                      <div className="flex gap-2 mb-4 flex-wrap">
                        {importSteps.map(step => (
                          <button
                            key={step.key}
                            onClick={() => setImportStep(step.key)}
                            className={`px-3 py-1 rounded text-sm ${
                              importStep === step.key 
                                ? 'bg-blue-600 text-white' 
                                : 'bg-gray-200 text-gray-700'
                            }`}
                          >
                            {step.label}
                          </button>
                        ))}
                      </div>

                      {importSteps.find(s => s.key === importStep)?.isLogo ? (
                        <div>
                          <label className="block text-sm font-medium mb-2 text-gray-900">
                            Upload {importSteps.find(s => s.key === importStep)?.team === 'mine' ? 'Your Team' : 'Opponent'} Logo
                          </label>
                          <input
                            type="file"
                            accept="image/*"
                            onChange={(e) => handleLogoUpload(e, importSteps.find(s => s.key === importStep)?.team === 'mine' ? 'mine' : 'opponent')}
                            className="w-full border rounded px-3 py-2"
                          />
                        </div>
                      ) : (
                        <div>
                          <label className="block text-sm font-medium mb-2 text-gray-900">
                            Paste {importSteps.find(s => s.key === importStep)?.label} data:
                          </label>
                          <textarea
                            value={importText}
                            onChange={(e) => setImportText(e.target.value)}
                            className="w-full h-64 border rounded px-3 py-2 font-mono text-sm text-gray-900"
                            placeholder="Paste the copied text here..."
                          />
                        </div>
                      )}
                    </div>

                    <div className="flex justify-end gap-2">
                      <button
                        onClick={() => setShowImport(false)}
                        className="px-4 py-2 border rounded hover:bg-gray-100 text-gray-700"
                      >
                        Cancel
                      </button>
                      <button
                        onClick={handleImport}
                        className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
                      >
                        Import & Continue
                      </button>
                    </div>
                  </div>
                </div>
              )}

              {/* Color Picker Modal */}
              {showColorPicker && (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                  <div className="bg-white rounded-lg p-6 max-w-md w-full">
                    <div className="flex justify-between items-center mb-4">
                      <h2 className="text-2xl font-bold text-gray-900">Opponent Colors</h2>
                      <button onClick={() => setShowColorPicker(false)} className="text-gray-500 hover:text-gray-700">
                        <X size={24} />
                      </button>
                    </div>

                    <div className="space-y-4">
                      <div>
                        <label className="block text-sm font-medium mb-1 text-gray-900">Primary Color</label>
                        <input
                          type="color"
                          value={opponentColors.primary}
                          onChange={(e) => setOpponentColors({...opponentColors, primary: e.target.value})}
                          className="w-full h-10 border rounded"
                        />
                      </div>

                      <div>
                        <label className="block text-sm font-medium mb-1 text-gray-900">Secondary Color</label>
                        <input
                          type="color"
                          value={opponentColors.secondary}
                          onChange={(e) => setOpponentColors({...opponentColors, secondary: e.target.value})}
                          className="w-full h-10 border rounded"
                        />
                      </div>
                    </div>

                    <div className="mt-6 flex justify-end">
                      <button
                        onClick={() => setShowColorPicker(false)}
                        className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
                      >
                        Done
                      </button>
                    </div>
                  </div>
                </div>
              )}

              {/* Main Content */}
              <div className="no-print fixed top-0 left-0 right-0 bg-gray-800 p-3 flex gap-2 z-10 border-b border-gray-700">
                <button
                  onClick={() => setShowSetup(true)}
                  className="flex items-center gap-2 bg-blue-600 px-4 py-2 rounded hover:bg-blue-700"
                >
                  <Settings size={16} />
                  Setup
                </button>
                <button
                  onClick={() => setShowImport(true)}
                  className="flex items-center gap-2 bg-green-600 px-4 py-2 rounded hover:bg-green-700"
                >
                  <Upload size={16} />
                  Import
                </button>
                <button
                  onClick={() => setShowColorPicker(true)}
                  className="flex items-center gap-2 bg-purple-600 px-4 py-2 rounded hover:bg-purple-700"
                >
                  <Settings size={16} />
                  Opponent Colors
                </button>
                <button
                  onClick={() => window.print()}
                  className="flex items-center gap-2 bg-gray-600 px-4 py-2 rounded hover:bg-gray-700 ml-auto"
                >
                  <Printer size={16} />
                  Print
                </button>
              </div>

              <div className="pt-16">
                {/* Page 1: My Team */}
                <div className="print-page-1 max-w-4xl mx-auto p-6 bg-white text-black">
                  <div className="flex justify-between items-start mb-4">
                    <div>
                      {myTeamSetup.logo && (
                        <img src={myTeamSetup.logo} alt="Team Logo" className="h-20 mb-2" />
                      )}
                      <h1 className="text-3xl font-bold" style={{ color: myTeamSetup.colors.primary }}>
                        {myTeamSetup.teamName}
                      </h1>
                      <p className="text-sm text-gray-600">{myTeamSetup.arena}</p>
                    </div>
                    <div className="text-right">
                      <div className="text-sm text-gray-600">
                        <div>Section {myTeamData.section} | {myTeamData.conference}</div>
                        <div className="font-bold text-lg">
                          {myTeamData.record.w}-{myTeamData.record.l}-{myTeamData.record.t}
                        </div>
                      </div>
                    </div>
                  </div>

                  <div className="border-t-4 mb-4" style={{ borderColor: myTeamSetup.colors.primary }}></div>

                  <div className="grid grid-cols-2 gap-4 mb-4">
                    <div className="border rounded p-3 bg-gray-50">
                      <h3 className="font-bold mb-2">Next Game</h3>
                      <div className="text-sm space-y-1">
                        <div><span className="font-semibold">Game #:</span> {myTeamData.nextGame.gameNum}</div>
                        <div><span className="font-semibold">Opponent:</span> {myTeamData.nextGame.opponent}</div>
                        <div><span className="font-semibold">Date:</span> {myTeamData.nextGame.date}</div>
                        <div><span className="font-semibold">Location:</span> {myTeamData.nextGame.location}</div>
                      </div>
                    </div>

                    <div className="border rounded p-3 bg-gray-50">
                      <h3 className="font-bold mb-2">Team Stats</h3>
                      <div className="text-sm space-y-1">
                        <div><span className="font-semibold">PP%:</span> {myTeamData.stats.ppPct}%</div>
                        <div><span className="font-semibold">PK%:</span> {myTeamData.stats.pkPct}%</div>
                        <div><span className="font-semibold">GPG:</span> {myTeamData.stats.gpg}</div>
                        <div><span className="font-semibold">GAPG:</span> {myTeamData.stats.gapg}</div>
                      </div>
                    </div>
                  </div>

                  <div className="mb-4">
                    <h2 className="text-xl font-bold mb-2" style={{ color: myTeamSetup.colors.primary }}>Lines</h2>
                    
                    {/* Forward Lines */}
                    {['line1', 'line2', 'line3', 'line4'].map((lineKey, idx) => (
                      <div key={lineKey} className="mb-3">
                        <div className="flex items-center gap-2 mb-1">
                          <span className="font-bold text-sm">Line {idx + 1}</span>
                          <select
                            value={lines[lineKey].color}
                            onChange={(e) => setLines({...lines, [lineKey]: {...lines[lineKey], color: e.target.value}})}
                            className="no-print text-xs border rounded px-2 py-1"
                          >
                            {colorOptions.map(color => (
                              <option key={color} value={color}>{color}</option>
                            ))}
                          </select>
                        </div>
                        <div className={`grid grid-cols-3 gap-2 p-2 rounded border-2 ${colorClasses[lines[lineKey].color]}`}>
                          {['lw', 'c', 'rw'].map(pos => (
                            <div
                              key={pos}
                              onDragOver={(e) => e.preventDefault()}
                              onDrop={() => handleDrop(`${lineKey}-${pos}`)}
                              className="bg-white border-2 border-dashed border-gray-300 rounded p-2 text-center min-h-[60px] flex flex-col justify-center"
                            >
                              {lines[lineKey][pos] ? (
                                <div
                                  draggable
                                  onDragStart={() => handleDragStart(lines[lineKey][pos], `${lineKey}-${pos}`)}
                                  className="cursor-move"
                                >
                                  <div className="font-bold">{lines[lineKey][pos].number}</div>
                                  <div className="text-xs">{lines[lineKey][pos].firstName} {lines[lineKey][pos].lastName}</div>
                                  <div className="text-xs text-gray-500">{pos.toUpperCase()}</div>
                                </div>
                              ) : (
                                <div className="text-xs text-gray-400">{pos.toUpperCase()}</div>
                              )}
                            </div>
                          ))}
                        </div>
                      </div>
                    ))}

                    {/* Defense Pairs */}
                    <div className="mt-4">
                      <h3 className="font-bold text-sm mb-2">Defense</h3>
                      {['d1', 'd2', 'd3'].map((dKey, idx) => (
                        <div key={dKey} className="grid grid-cols-2 gap-2 mb-2">
                          {['ld', 'rd'].map(pos => (
                            <div
                              key={pos}
                              onDragOver={(e) => e.preventDefault()}
                              onDrop={() => handleDrop(`${dKey}-${pos}`)}
                              className="bg-blue-50 border-2 border-blue-300 border-dashed rounded p-2 text-center min-h-[60px] flex flex-col justify-center"
                            >
                              {lines[dKey][pos] ? (
                                <div
                                  draggable
                                  onDragStart={() => handleDragStart(lines[dKey][pos], `${dKey}-${pos}`)}
                                  className="cursor-move"
                                >
                                  <div className="font-bold">{lines[dKey][pos].number}</div>
                                  <div className="text-xs">{lines[dKey][pos].firstName} {lines[dKey][pos].lastName}</div>
                                  <div className="text-xs text-gray-500">D{idx + 1} {pos === 'ld' ? 'L' : 'R'}</div>
                                </div>
                              ) : (
                                <div className="text-xs text-gray-400">D{idx + 1} {pos === 'ld' ? 'L' : 'R'}</div>
                              )}
                            </div>
                          ))}
                        </div>
                      ))}
                    </div>

                    {/* Goalies */}
                    <div className="mt-4">
                      <h3 className="font-bold text-sm mb-2">Goalies</h3>
                      <div className="grid grid-cols-2 gap-2">
                        {['starter', 'backup'].map(pos => (
                          <div
                            key={pos}
                            onDragOver={(e) => e.preventDefault()}
                            onDrop={() => handleDrop(`goalies-${pos}`)}
                            className="bg-red-50 border-2 border-red-300 border-dashed rounded p-2 text-center min-h-[60px] flex flex-col justify-center"
                          >
                            {lines.goalies[pos] ? (
                              <div
                                draggable
                                onDragStart={() => handleDragStart(lines.goalies[pos], `goalies-${pos}`)}
                                className="cursor-move"
                              >
                                <div className="font-bold">{lines.goalies[pos].number}</div>
                                <div className="text-xs">{lines.goalies[pos].firstName} {lines.goalies[pos].lastName}</div>
                                <div className="text-xs text-gray-500">{pos.charAt(0).toUpperCase() + pos.slice(1)}</div>
                              </div>
                            ) : (
                              <div className="text-xs text-gray-400">{pos.charAt(0).toUpperCase() + pos.slice(1)}</div>
                            )}
                          </div>
                        ))}
                      </div>
                    </div>
                  </div>

                  {/* Available Players */}
                  <div className="no-print mb-4">
                    <h3 className="font-bold mb-2">Available Players (Drag to Lines)</h3>
                    <div className="grid grid-cols-6 gap-2">
                      {getAvailablePlayers().map(player => (
                        <div
                          key={player.id}
                          draggable
                          onDragStart={() => handleDragStart(player, 'available')}
                          className="bg-gray-100 border rounded p-2 text-center cursor-move hover:bg-gray-200 text-xs"
                        >
                          <div className="font-bold">{player.number}</div>
                          <div className="text-xs">{player.firstName}</div>
                          <div className="text-xs">{player.lastName}</div>
                          <div className="text-xs text-gray-500">{player.position}</div>
                        </div>
                      ))}
                    </div>
                  </div>

                  {/* Coach Notes */}
                  <div className="mt-4">
                    <h2 className="text-xl font-bold mb-2" style={{ color: myTeamSetup.colors.primary }}>Coach Notes</h2>
                    <div className="grid grid-cols-2 gap-3">
                      <div className="border-2 border-dashed border-gray-400 rounded p-3 bg-gray-50">
                        <h3 className="font-bold text-sm mb-2">PK</h3>
                        <textarea
                          value={coachNotes.pk}
                          onChange={(e) => setCoachNotes({...coachNotes, pk: e.target.value})}
                          placeholder="PK notes..."
                          className="w-full border rounded px-2 py-1 text-xs"
                          rows="4"
                        />
                      </div>
                      <div className="border-2 border-dashed border-gray-400 rounded p-3 bg-gray-50">
                        <h3 className="font-bold text-sm mb-2">PP</h3>
                        <textarea
                          value={coachNotes.pp}
                          onChange={(e) => setCoachNotes({...coachNotes, pp: e.target.value})}
                          placeholder="PP notes..."
                          className="w-full border rounded px-2 py-1 text-xs"
                          rows="4"
                        />
                      </div>
                    </div>
                  </div>

                  {/* Roster Stats */}
                  <div className="mt-4">
                    <h2 className="text-xl font-bold mb-2" style={{ color: myTeamSetup.colors.primary }}>Roster</h2>
                    
                    <h3 className="font-bold text-sm mb-1">Forwards & Defense</h3>
                    <table className="w-full text-xs border-collapse mb-3">
                      <thead>
                        <tr className="bg-gray-200">
                          <th className="border p-1">#</th>
                          <th className="border p-1 text-left">Name</th>
                          <th className="border p-1">Pos</th>
                          <th className="border p-1">Gr</th>
                          <th className="border p-1">GP</th>
                          <th className="border p-1">G</th>
                          <th className="border p-1">A</th>
                          <th className="border p-1">PTS</th>
                          <th className="border p-1">PIM</th>
                          <th className="border p-1">PPG</th>
                          <th className="border p-1">SHG</th>
                          <th className="border p-1">+/-</th>
                        </tr>
                      </thead>
                      <tbody>
                        {myTeamData.roster
                          .filter(p => p.position !== 'G')
                          .sort((a, b) => parseInt(a.number) - parseInt(b.number))
                          .map(player => (
                            <tr key={player.id}>
                              <td className="border p-1 font-bold text-center">{player.number}</td>
                              <td className="border p-1">{player.firstName} {player.lastName}</td>
                              <td className="border p-1 text-center">{player.position}</td>
                              <td className="border p-1 text-center">{player.grade}</td>
                              <td className="border p-1 text-center">{player.stats?.gp || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.g || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.a || 0}</td>
                              <td className="border p-1 text-center font-bold">{player.stats?.pts || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.pim || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.ppg || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.shg || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.plus || 0}</td>
                            </tr>
                          ))}
                      </tbody>
                    </table>

                    <h3 className="font-bold text-sm mb-1">Goalies</h3>
                    <table className="w-full text-xs border-collapse">
                      <thead>
                        <tr className="bg-gray-200">
                          <th className="border p-1">#</th>
                          <th className="border p-1 text-left">Name</th>
                          <th className="border p-1">Gr</th>
                          <th className="border p-1">MIN</th>
                          <th className="border p-1">W</th>
                          <th className="border p-1">L</th>
                          <th className="border p-1">T</th>
                          <th className="border p-1">SOG</th>
                          <th className="border p-1">SV</th>
                          <th className="border p-1">GA</th>
                          <th className="border p-1">GAA</th>
                          <th className="border p-1">SV%</th>
                          <th className="border p-1">SO</th>
                        </tr>
                      </thead>
                      <tbody>
                        {myTeamData.roster
                          .filter(p => p.position === 'G')
                          .sort((a, b) => parseInt(a.number) - parseInt(b.number))
                          .map(player => (
                            <tr key={player.id}>
                              <td className="border p-1 font-bold text-center">{player.number}</td>
                              <td className="border p-1">{player.firstName} {player.lastName}</td>
                              <td className="border p-1 text-center">{player.grade}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.min || '0:00'}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.w || 0}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.l || 0}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.t || 0}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.sog || 0}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.sv || 0}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.ga || 0}</td>
                              <td className="border p-1 text-center font-bold">{player.goalieStats?.gaa.toFixed(2) || '0.00'}</td>
                              <td className="border p-1 text-center font-bold">{player.goalieStats?.svp || '.000'}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.so || 0}</td>
                            </tr>
                          ))}
                      </tbody>
                    </table>
                  </div>
                </div>

                {/* Page 2: Opponent */}
                <div className="print-page-2 page-break max-w-4xl mx-auto p-6 bg-white text-black">
                  <div className="flex justify-between items-start mb-4">
                    <div>
                      {opponentLogo && (
                        <img src={opponentLogo} alt="Opponent Logo" className="h-20 mb-2" />
                      )}
                      <h1 className="text-3xl font-bold" style={{ color: opponentColors.primary }}>
                        {opponentData.teamName || 'Opponent'}
                      </h1>
                      <p className="text-sm text-gray-600">{opponentData.nickname}</p>
                    </div>
                    <div className="text-right">
                      <div className="text-sm text-gray-600">
                        <div>Section {opponentData.section} | {opponentData.conference}</div>
                        <div className="font-bold text-lg">
                          {opponentData.record.w}-{opponentData.record.l}-{opponentData.record.t}
                        </div>
                      </div>
                    </div>
                  </div>

                  <div className="border-t-4 mb-4" style={{ borderColor: opponentColors.primary }}></div>

                  <div className="grid grid-cols-2 gap-4 mb-4">
                    <div className="border rounded p-3 bg-gray-50">
                      <h3 className="font-bold mb-2">Head Coach</h3>
                      <div className="text-sm space-y-1">
                        <div><span className="font-semibold">Name:</span> {opponentData.headCoach.name}</div>
                        <div><span className="font-semibold">Career Record:</span> {opponentData.headCoach.careerRecord.w}-{opponentData.headCoach.careerRecord.l}-{opponentData.headCoach.careerRecord.t}</div>
                        <div><span className="font-semibold">Season Record:</span> {opponentData.headCoach.seasonRecord.w}-{opponentData.headCoach.seasonRecord.l}-{opponentData.headCoach.seasonRecord.t}</div>
                      </div>
                    </div>

                    <div className="border rounded p-3 bg-gray-50">
                      <h3 className="font-bold mb-2">Team Stats</h3>
                      <div className="text-sm space-y-1">
                        <div><span className="font-semibold">PP%:</span> {opponentData.stats.ppPct}%</div>
                        <div><span className="font-semibold">PK%:</span> {opponentData.stats.pkPct}%</div>
                        <div><span className="font-semibold">GPG:</span> {opponentData.stats.gpg}</div>
                        <div><span className="font-semibold">GAPG:</span> {opponentData.stats.gapg}</div>
                      </div>
                    </div>
                  </div>

                  <div className="mt-3">
                    <h2 className="text-xl font-bold mb-2" style={{ color: opponentColors.primary }}>Roster</h2>
                    
                    <h3 className="font-bold text-sm mb-1">Forwards & Defense</h3>
                    <table className="w-full text-xs border-collapse mb-3">
                      <thead>
                        <tr className="bg-gray-200">
                          <th className="border p-1">#</th>
                          <th className="border p-1 text-left">Name</th>
                          <th className="border p-1">Pos</th>
                          <th className="border p-1">Gr</th>
                          <th className="border p-1">GP</th>
                          <th className="border p-1">G</th>
                          <th className="border p-1">A</th>
                          <th className="border p-1">PTS</th>
                          <th className="border p-1">PIM</th>
                          <th className="border p-1">PPG</th>
                          <th className="border p-1">SHG</th>
                          <th className="border p-1">+/-</th>
                        </tr>
                      </thead>
                      <tbody>
                        {opponentData.roster
                          .filter(p => p.position !== 'G')
                          .sort((a, b) => parseInt(a.number) - parseInt(b.number))
                          .map(player => (
                            <tr key={player.id}>
                              <td className="border p-1 font-bold text-center">{player.number}</td>
                              <td className="border p-1">{player.firstName} {player.lastName}</td>
                              <td className="border p-1 text-center">{player.position}</td>
                              <td className="border p-1 text-center">{player.grade}</td>
                              <td className="border p-1 text-center">{player.stats?.gp || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.g || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.a || 0}</td>
                              <td className="border p-1 text-center font-bold">{player.stats?.pts || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.pim || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.ppg || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.shg || 0}</td>
                              <td className="border p-1 text-center">{player.stats?.plus || 0}</td>
                            </tr>
                          ))}
                      </tbody>
                    </table>

                    <h3 className="font-bold text-sm mb-1">Goalies</h3>
                    <table className="w-full text-xs border-collapse">
                      <thead>
                        <tr className="bg-gray-200">
                          <th className="border p-1">#</th>
                          <th className="border p-1 text-left">Name</th>
                          <th className="border p-1">Gr</th>
                          <th className="border p-1">MIN</th>
                          <th className="border p-1">W</th>
                          <th className="border p-1">L</th>
                          <th className="border p-1">T</th>
                          <th className="border p-1">SOG</th>
                          <th className="border p-1">SV</th>
                          <th className="border p-1">GA</th>
                          <th className="border p-1">GAA</th>
                          <th className="border p-1">SV%</th>
                          <th className="border p-1">SO</th>
                        </tr>
                      </thead>
                      <tbody>
                        {opponentData.roster
                          .filter(p => p.position === 'G')
                          .sort((a, b) => parseInt(a.number) - parseInt(b.number))
                          .map(player => (
                            <tr key={player.id}>
                              <td className="border p-1 font-bold text-center">{player.number}</td>
                              <td className="border p-1">{player.firstName} {player.lastName}</td>
                              <td className="border p-1 text-center">{player.grade}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.min || '0:00'}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.w || 0}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.l || 0}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.t || 0}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.sog || 0}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.sv || 0}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.ga || 0}</td>
                              <td className="border p-1 text-center font-bold">{player.goalieStats?.gaa.toFixed(2) || '0.00'}</td>
                              <td className="border p-1 text-center font-bold">{player.goalieStats?.svp || '.000'}</td>
                              <td className="border p-1 text-center">{player.goalieStats?.so || 0}</td>
                            </tr>
                          ))}
                      </tbody>
                    </table>
                  </div>

                  <div className="mt-3 mb-3">
                    <h2 className="text-xl font-bold mb-2" style={{ color: opponentColors.primary }}>Diagrams & Notes</h2>
                    
                    <div className="border-2 border-dashed border-gray-400 rounded p-3 mb-2 bg-gray-50 min-h-[200px]">
                      <h3 className="font-bold text-sm mb-1">Large Diagram Area</h3>
                      <div className="text-xs text-gray-500 italic">Paste image or add diagram here</div>
                    </div>

                    <div className="grid grid-cols-3 gap-2 mb-3">
                      <div className="border-2 border-dashed border-gray-400 rounded p-2 bg-gray-50 min-h-[150px]">
                        <div className="text-xs text-gray-500 italic">Image 1</div>
                      </div>
                      <div className="border-2 border-dashed border-gray-400 rounded p-2 bg-gray-50 min-h-[150px]">
                        <div className="text-xs text-gray-500 italic">Image 2</div>
                      </div>
                      <div className="border-2 border-dashed border-gray-400 rounded p-2 bg-gray-50 min-h-[150px]">
                        <div className="text-xs text-gray-500 italic">Image 3</div>
                      </div>
                    </div>
                  </div>

                  {coachNotes.showScoutNotes && (
                    <div className="mt-3">
                      <div className="flex justify-between items-center mb-2">
                        <h2 className="text-xl font-bold" style={{ color: opponentColors.primary }}>Scouting Notes</h2>
                        <button
                          onClick={() => setCoachNotes({...coachNotes, showScoutNotes: false})}
                          className="no-print text-xs bg-gray-500 text-white px-2 py-1 rounded hover:bg-gray-600"
                        >
                          Hide Notes
                        </button>
                      </div>
                      
                      <div className="grid grid-cols-2 gap-3">
                        <div className="border-2 border-dashed border-gray-400 rounded p-3 bg-gray-50">
                          <h3 className="font-bold text-sm mb-2">Power Play Setup</h3>
                          <textarea
                            value={coachNotes.scoutNotes.powerPlay}
                            onChange={(e) => setCoachNotes({...coachNotes, scoutNotes: {...coachNotes.scoutNotes, powerPlay: e.target.value}})}
                            placeholder="PP scouting notes..."
                            className="w-full border rounded px-2 py-1 text-xs"
                            rows="6"
                          />
                        </div>
                        <div className="border-2 border-dashed border-gray-400 rounded p-3 bg-gray-50">
                          <h3 className="font-bold text-sm mb-2">Penalty Kill Setup</h3>
                          <textarea
                            value={coachNotes.scoutNotes.penaltyKill}
                            onChange={(e) => setCoachNotes({...coachNotes, scoutNotes: {...coachNotes.scoutNotes, penaltyKill: e.target.value}})}
                            placeholder="PK scouting notes..."
                            className="w-full border rounded px-2 py-1 text-xs"
                            rows="6"
                          />
                        </div>
                      </div>
                      
                      <div className="border-2 border-dashed border-gray-400 rounded p-3 bg-gray-50 mt-3">
                        <h3 className="font-bold text-sm mb-2">Key Players & Tendencies</h3>
                        <textarea
                          value={coachNotes.scoutNotes.keyPlayers}
                          onChange={(e) => setCoachNotes({...coachNotes, scoutNotes: {...coachNotes.scoutNotes, keyPlayers: e.target.value}})}
                          placeholder="Key player notes, tendencies, matchups..."
                          className="w-full border rounded px-2 py-1 text-xs"
                          rows="6"
                        />
                      </div>
                    </div>
                  )}

                  {!coachNotes.showScoutNotes && (
                    <button
                      onClick={() => setCoachNotes({...coachNotes, showScoutNotes: true})}
                      className="no-print mt-3 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
                    >
                      Show Scouting Notes
                    </button>
                  )}
                </div>
              </div>

              <style>{`
                @media print {
                  .no-print {
                    display: none !important;
                  }
                  
                  body {
                    margin: 0;
                    padding: 0;
                  }
                  
                  .print-page-1, .print-page-2 {
                    page-break-after: always;
                    margin: 0.25in;
                  }
                  
                  .print-page-2 {
                    page-break-before: always;
                  }
                  
                  @page {
                    size: portrait;
                    margin: 0.25in;
                  }
                }
                
                .page-break {
                  page-break-before: always;
                }
              `}</style>
            </div>
          );
        };

        ReactDOM.render(<HockeyLinesChart />, document.getElementById('root'));
    </script>
</body>
</html>
